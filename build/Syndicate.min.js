b4w.register("Syndicate_main",function(B,b){function C(a,f){f?(v.create_preloader(),a.oncontextmenu=function(a){a.preventDefault();a.stopPropagation();return!1},a.addEventListener("mousedown",w),a.addEventListener("touchstart",w),a.addEventListener("mouseup",x),a.addEventListener("touchend",x),a.addEventListener("mousemove",y),a.addEventListener("touchmove",y),window.onresize=z.resize_to_container,z.resize_to_container(),D.load(E+"Syndicate.json",F,G)):console.log("b4w init failure")}function G(a){v.update_preloader(a)}
function F(a,f){if(f){k.enable_camera_controls();var c=g.get_object_by_name("spawner");h.get_translation(c,H)}else console.log("b4w load failure")}function w(a){u=!0;a.preventDefault&&a.preventDefault();var f=m.get_coords_x(a);a=m.get_coords_y(a);var c=g.pick_object(f,a);d!=c&&(d&&g.clear_outline_anim(d),c&&g.apply_outline_anim(c,1,1,0),d=c);if(d){var c=g.get_active_camera(),b=n.get_parent(d);b&&n.is_armature(b)?h.get_translation(b,p):h.get_translation(d,p);A.project_point(c,p,e);e[0]=f-e[0];e[1]=
a-e[1]}}function x(a){u=!1;q||(k.enable_camera_controls(),q=!0)}function y(a){if(u&&d){q&&(k.disable_camera_controls(),q=!1);var b=g.get_active_camera(),c=m.get_coords_x(a);a=m.get_coords_y(a);0<=c&&0<=a&&(c-=e[0],a-=e[1],c=A.calc_ray(b,c,a,r),c=l.get_pline_directional_vec(c,p),b=h.get_translation(b,I),l.set_pline_initial_point(r,b),l.set_pline_directional_vec(r,c),(b=l.line_plane_intersect(FLOOR_PLANE_NORMAL,0,r,J))&&0>c[2]&&((c=n.get_parent(d))&&n.is_armature(c)?h.set_translation_v(c,b):h.set_translation_v(d,
b),limit_object_position(d)))}}var A=b("camera");b("controls");var l=b("math"),n=b("objects");b("physics");b("version");var k=b("app"),K=b("config"),D=b("data"),v=b("preloader"),L=b("version"),m=b("mouse"),g=b("scenes"),h=b("transform"),z=b("container");b("quat");var t="DEBUG"==L.type(),E=K.get_assets_path("Syndicate"),e=new Float32Array(2),H=new Float32Array(3),p=new Float32Array(3),I=new Float32Array(3),J=new Float32Array(3);new Float32Array(4);var r=l.create_pline(),u=!1,q=!0,d=null;B.init=function(){var a=
t,b=k.get_url_params();b&&"show_fps"in b&&(a=!0);k.init({canvas_container_id:"main_canvas_container",callback:C,physics_enabled:!0,show_fps:a,alpha:!1,assets_dds_available:!t,assets_min50_available:!t,console_verbose:t,background_color:[1,1,1,0]})}});b4w.require("Syndicate_main").init();
